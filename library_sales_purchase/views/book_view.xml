<?xml version='1.0' encoding='utf-8'?>
<odoo>
  <record id="view_form_book_publish_inventory_extend" model="ir.ui.view">
    <field name="name">Book to Inventory</field>
    <field name="model">library.book</field>
    <field name="inherit_id" ref='library_app.view_form_book' />
    <field name="arch" type='xml'>
      <xpath expr="//field[@name='isbn']" position="after">
        <field name="cost" />
        <field name="product_id" invisible="is_published == False" />
        <field name="stock" readonly="1" invisible="is_published == False" />
        <field name="is_published" invisible="1" />
      </xpath>
      <xpath expr="//header" position="inside">
        <button name="action_publish_to_inventory" 
          type="object" 
          string="Publish to Inventory" 
          invisible="is_published == True"
          class="btn btn-danger" />
      </xpath>
      <xpath expr="//header" position="inside">
        <button name="action_purchase" 
          type="object" 
          string="Purchase" 
          invisible="is_published == False"
          />
        <button name="action_sell" 
          type="object" 
          string="Sell" 
          invisible="is_published == False"
          />
      </xpath>
      <xpath expr="//sheet" position="inside">
        <div name="button_box" class="oe_button_box">
          <button class="oe_stat_button" 
            type="object" 
            icon="fa-shopping-cart"                         
            name="purchase_book_list"
            invisible="purchase_count == 0">
            <field string="Purchase Book" name="purchase_count" widget="statinfo"/>
          </button>
          <button class="oe_stat_button" 
            type="object" 
            icon="fa-signal"                         
            name="sales_book_list"
            invisible="sale_count == 0">
            <field string="Sold Book" name="sale_count" widget="statinfo"/>
          </button>
        </div>
      </xpath>
    </field>
  </record>
</odoo>